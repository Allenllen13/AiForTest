<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRD测试用例生成器</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>PRD测试用例生成器</h1>
            <p class="subtitle">基于AI自动生成测试用例</p>
        </header>

        <div class="main-content">
            <!-- PRD输入区域 -->
            <div class="input-section">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="text">粘贴PRD文本</button>
                    <button class="tab-btn" data-tab="link">飞书文档链接</button>
                </div>

                <!-- 文本输入区域 -->
                <div class="tab-content active" id="text-tab">
                    <label for="prd-text">PRD内容：</label>
                    <textarea 
                        id="prd-text" 
                        placeholder="请在此粘贴产品需求文档(PRD)的全文内容..."
                        rows="15"
                    ></textarea>
                </div>

                <!-- 链接输入区域 -->
                <div class="tab-content" id="link-tab">
                    <label for="feishu-link">飞书文档链接：</label>
                    <input 
                        type="text" 
                        id="feishu-link" 
                        placeholder="请输入飞书文档链接，例如：https://example.feishu.cn/docs/..."
                    />
                    <button id="fetch-link-btn" class="btn-secondary">获取文档内容</button>
                    <div id="link-status" class="status-message"></div>
                </div>

                <div class="action-buttons">
                    <button id="generate-btn" class="btn-primary">生成测试用例</button>
                    <button id="clear-btn" class="btn-secondary">清空内容</button>
                </div>
            </div>

            <!-- 加载状态 -->
            <div id="loading" class="loading hidden">
                <div class="spinner"></div>
                <p>正在生成测试用例，请稍候...</p>
            </div>

            <!-- 测试用例展示区域 -->
            <div id="test-cases-section" class="test-cases-section hidden">
                <div class="test-cases-header">
                    <h2>生成的测试用例</h2>
                    <div class="view-toggle">
                        <button class="view-btn active" data-view="table" title="表格视图">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                                <line x1="9" y1="3" x2="9" y2="21"></line>
                                <line x1="3" y1="9" x2="21" y2="9"></line>
                            </svg>
                        </button>
                        <button class="view-btn" data-view="card" title="卡片视图">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="7" height="7"></rect>
                                <rect x="14" y="3" width="7" height="7"></rect>
                                <rect x="14" y="14" width="7" height="7"></rect>
                                <rect x="3" y="14" width="7" height="7"></rect>
                            </svg>
                        </button>
                        <button class="view-btn" data-view="mindmap" title="思维导图视图">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"></circle>
                                <path d="M12 1v6m0 6v6"></path>
                                <path d="M21 12h-6m-6 0H3"></path>
                                <path d="M12 1l3 3-3 3M12 23l3-3-3-3"></path>
                                <path d="M21 12l-3 3-3-3M3 12l3 3 3-3"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="test-cases-controls">
                    <button id="export-btn" class="btn-secondary">导出为JSON</button>
                    <button id="copy-btn" class="btn-secondary">复制到剪贴板</button>
                    <button id="export-excel-btn" class="btn-secondary">导出为Excel</button>
                </div>
                <div id="test-cases-container"></div>
            </div>
        </div>
    </div>

    <!-- 引入 Mermaid.js 用于思维导图 -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script src="app.js"></script>
</body>
</html>

